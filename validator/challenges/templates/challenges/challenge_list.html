{% extends "base.html" %}
{% load static %}
{% block content %}

    <div class="shadow bg-[#051934] text-white p-3 px-4">
        <h2 class="text-xl font-bold">Challenge List</h2>
    </div>
    
    {% if messages %}
        {% for message in messages %}
            <div class="container px-3 mt-3">
                <div class="alert alert-warning alert-dismissible fade show" role="alert">
                    <div class="bg-yellow-300 text-yellow-800 p-4 rounded-lg shadow-md">
                        {{ message }}
                        <button type="button" class="ml-2 text-gray-500 hover:text-gray-800" data-bs-dismiss="alert" aria-label="Close">Ã—</button>
                    </div>
                </div>
            </div>
        {% endfor %}
    {% endif %}
    
    <div class="card m-3 p-3 bg-white shadow rounded-lg">
        <table class="table-auto w-full text-left border-collapse">
            <thead>
                <tr class="border-b">
                    <th class="py-2 px-4 font-semibold">Challenge name</th>
                    <th class="text-center py-2 px-4 font-semibold">Category</th>
                    <th class="text-center py-2 px-4 font-semibold">Difficulty</th>
                    <th class="text-center py-2 px-4 font-semibold">Your progress</th>
                </tr>
            </thead>
            <tbody>
                {% for challenge in challenges %}
                    {% if challenge.published %}
                        <tr class="border-b hover:bg-gray-100">
                            <td class="py-2 px-4">
                                <a href="{% url 'challenge_detail' challenge_slug=challenge.slug %}" class="text-blue-600 hover:text-blue-800">{{ challenge.name }}</a>
                            </td>
                            <td class="text-center py-2 px-4">{{ challenge.category }}</td>
                            <td class="text-center py-2 px-4">
                                {{challenge.difficulty}}
                            </td>
                            <td class="text-center py-2 px-4">{{ challenge.num_resolved_defined_files }}/{{ challenge.num_defined_files }}</td>
                        </tr>
                    {% endif %}
                {% endfor %}
            </tbody>
        </table>
    </div>

    
    
{% endblock content %}
